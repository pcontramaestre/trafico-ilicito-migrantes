---
import { Image } from "astro:assets";
import lineas from '@components/sections/section2/assets/lineas-slider.svg';
import paqueteE from '@components/sections/section2/assets/paquete-economico.webp';
import paqueteI from '@components/sections/section2/assets/paquete-intermedio.webp';
import paqueteV from '@components/sections/section2/assets/paquete-vip.webp';
import transporte1 from '@components/sections/section2/assets/transporte1.webp';
import transporte2 from '@components/sections/section2/assets/bus.webp';
import transporte3 from '@components/sections/section2/assets/carro-avion.webp';
---
<div id="pinContainer">
  <!-- <button class="nav-button left" id="leftButton">Left</button>
  <button class="nav-button right" id="rightButton">Right</button> -->
  <div id="slideContainer">
    <!-- DIAPOSITIVA 1 -->
    <section class="panel flex items-center relative">
      <div class="contenido-slider grid grid-cols-12 gap-4 max-w-[1120px] mr-auto ml-auto z-10">
        <div class="izquierda col-span-5">
          <div class="imagenes flex flex-col gap-10">
            <Image src={paqueteE} alt="" />
            <Image src={transporte1} alt="" />
          </div>          
        </div>
        <div class="derecha col-span-7">
          <div class="title-slider text-5xl uppercase font-light font-['Formula'] gris">Características</div>
          <div class="text-slider gris text-[28px] font-normal leading-[140%] mb-6 max-w-[550px]">Cruce por puntos informales en
            motocicleta, lancha, camión de
            carga o caminando.</div>
            <div class="title-slider text-5xl uppercase font-light	font-['Formula'] gris">Costo por persona</div>
            <div class="text-slider gris text-[28px] font-normal leading-[140%] mb-6">
              Los precios van desde los <br>
            <span class="font-['Inika'] text-[64px] naranja2 font-bold mt-6">20$</span> hasta los <span class="font-['Inika'] text-[64px] naranja2 font-bold">7.000$</span>
          </div>

          <div class="cuadro-naranja bg-[#B85600] blanco text-[20px] p-4 max-w-[470px] mt-8">
            <p class="pb-3 leading-[140%] " >Los paquetes de costos intermedios y económicos cambian de precio según:</p>
            <ul class="leading-[140%] list-disc pl-4">
              <li>Nacionalidad</li>
              <li>Si se trata de un grupo familiar</li>
              <li>Si es una sola persona</li>
              <li>Si es un niño, niña o adolescente (NNA)</li>
            </ul>
          </div>
        </div>
      </div>
      <Image src={lineas} alt="" class=" absolute left-0 top-0 w-screen z-0"/>
    </section>


    <!-- DIAPOSITIVA 2 -->
    <section class="panel flex items-center relative">
      <div class="contenido-slider grid grid-cols-12 gap-4 max-w-[1120px] mr-auto ml-auto z-10">
        
        <div class="derecha col-span-7">
          <div class="title-slider text-5xl uppercase font-light font-['Formula'] gris">Características</div>
          <div class="text-slider gris text-[28px] font-normal leading-[140%] mb-6 max-w-[550px]">Transporte terrestre a través de
            distancias medias (autobús) y paso
            de frontera por puntos informales.</div>
            <div class="title-slider text-5xl uppercase font-light	font-['Formula'] gris">Costo por persona</div>
            <div class="text-slider gris text-[28px] font-normal leading-[140%] mb-6">
              Los precios van desde los <br>
            <span class="font-['Inika'] text-[64px] naranja2 font-bold mt-6">120$</span> hasta los <span class="font-['Inika'] text-[64px] naranja2 font-bold">15.000$</span>
          </div>

          <div class="cuadro-naranja bg-[#B85600] blanco text-[20px] p-4 max-w-[470px] mt-8">
            <p class="pb-3 leading-[140%] " >Los paquetes de costos intermedios y económicos cambian de precio según:</p>
            <ul class="leading-[140%] list-disc pl-4">
              <li>Nacionalidad</li>
              <li>Si se trata de un grupo familiar</li>
              <li>Si es una sola persona</li>
              <li>Si es un niño, niña o adolescente (NNA)</li>
            </ul>
          </div>
        </div>

        <div class="izquierda col-span-5">
          <div class="imagenes flex flex-col gap-10">
            <Image src={paqueteI} alt="" />
            <Image src={transporte2} alt="" />
          </div>          
        </div>

      </div>
      <Image src={lineas} alt="" class=" absolute left-0 top-0 w-screen z-0"/>
    </section>


    <!-- DIAPOSITIVA 3 -->
    <section class="panel flex items-center relative">
      <div class="contenido-slider grid grid-cols-12 gap-2 max-w-[1120px] mr-auto ml-auto z-10">
        <div class="izquierda col-span-5">
          <div class="imagenes flex flex-col gap-4">
            <Image src={paqueteV} alt="" class="mb-6"/>
            <div class="title-slider text-5xl uppercase font-light	font-['Formula'] gris">Costo por persona</div>
            <div class="text-slider gris text-[28px] font-normal leading-[140%] mb-4">
              Los precios van desde los <br>
              <span class="font-['Inika'] text-[64px] naranja2 font-bold mt-6">15.000$</span> hasta los <br>
              <span class="font-['Inika'] text-[64px] naranja2 font-bold">40.000$</span>
            </div>
            <Image src={transporte3} alt="" />
          </div>          
        </div>
        <div class="derecha col-span-7">
          <div class="title-slider text-5xl uppercase font-light font-['Formula'] gris">Características</div>
          <div class="text-slider gris text-[28px] font-normal leading-[140%] mb-6">
            Pasajes aéreos, transporte
            terrestre (generalmente
            automóviles), hospedaje (en
            hoteles) y alimentación durante
            todo el trayecto hacia la frontera
            sur de los Estados Unidos de
            América. En algunos casos
            este paquete también incluye la
            falsificación de documentos.
          </div>
          <div class="cuadro-naranja bg-[#B85600] blanco text-[20px] p-4 max-w-[560px] mt-8">
            <p class="pb-3 leading-[140%] " >El paquete tipo VIP se diferencia en sus costos por:</p>
            <ul class="leading-[140%] list-disc pl-4">
              <li>Mayor seguridad en el transporte a utilizar
                (pueden ser vuelos chárters, transportes privados,
                yates, entre otros)</li>
              <li>Estadías en lugares más cómodos y seguros</li>
              <li>Mayor “seguridad” en los momentos de realizar
                los cruces de no ser extorsionados por coyotes</li>
            </ul>
          </div>
        </div>
      </div>
      <Image src={lineas} alt="" class=" absolute left-0 top-0 w-screen z-0"/>
    </section>
   

  </div>
</div>

<style>
  #pinContainer {
    width: 100%;
    height: 100vh; /* Use 100vh for full viewport height */
    overflow: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
    position: relative;
  }
  #slideContainer {
    width: 400%; /* to contain 4 panels, each with 100% of window width */
    height: 100%;
  }
  .panel {
    height: 100%;
    width: 25%; /* relative to parent -> 25% of 400% = 100% of window width */
    float: left;
  }
  .panel.blue { background-color: blue; }
  .panel.turqoise { background-color: turqoise; }
  .panel.green { background-color: green; }
  .panel.bordeaux { background-color: bordeaux; }

  .nav-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    padding: 10px 20px;
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    cursor: pointer;
    z-index: 10;
  }
  .nav-button.left {
    left: 10px;
  }
  .nav-button.right {
    right: 10px;
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function () {
    // init
    var controllerSlider = new ScrollMagic.Controller();

    // define movement of panels
    var wipeAnimation = new TimelineMax()
      // animate to second panel
      .to("#slideContainer", 0.5, { z: -150 }) // move back in 3D space
      .to("#slideContainer", 1, { x: "-25%" }) // move in to first panel
      .to("#slideContainer", 0.5, { z: 0 }) // move back to origin in 3D space
      // animate to third panel
      .to("#slideContainer", 0.5, { z: -150, delay: 1 })
      .to("#slideContainer", 1, { x: "-50%" })
      .to("#slideContainer", 0.5, { z: 0 })
      // animate to fourth panel
      // .to("#slideContainer", 0.5, { z: -150, delay: 1 })
      // .to("#slideContainer", 1, { x: "-75%" })
      // .to("#slideContainer", 0.5, { z: 0 });

    // create scene to pin and link animation
    new ScrollMagic.Scene({
      triggerElement: "#pinContainer",
      triggerHook: "onLeave",
      duration: "250%"
    })
      .setPin("#pinContainer")
      .setTween(wipeAnimation)
      // .addIndicators() // add indicators (requires plugin)
      .addTo(controllerSlider);

    var currentPanel = 0;
    var panelCount = 3; // Number of panels

    // function goToPanel(panelIndex) {
    //   var xPercent = -25 * panelIndex;
    //   TweenMax.to("#slideContainer", 1, { xPercent: xPercent });
    //   currentPanel = panelIndex;
    // }

    // document.getElementById("rightButton").addEventListener("click", function () {
    //   if (currentPanel < panelCount - 1) {
    //     goToPanel(currentPanel + 1);
    //   }
    // });

    // document.getElementById("leftButton").addEventListener("click", function () {
    //   if (currentPanel > 0) {
    //     goToPanel(currentPanel - 1);
    //   }
    // });
  });
</script>